<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>

	<title th:text="#{label.orgForm.page.title}" >
		OrgForm List Page Title
	</title>
	
	<div  th:replace="fragments/header :: header-css">
	</div>

	
	<link th:href="@{/assets/global/plugins/datatables/keyTable.bootstrap.css}" rel="stylesheet" type="text/css" />	
	
	<link th:href="@{/assets/global/plugins/datatables/datatables.min.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css}" rel="stylesheet" type="text/css" />

	<link th:href="@{/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css}" rel="stylesheet" type="text/css" />

</head>

<body class="page-header-fixed page-sidebar-closed-hide-logo page-container-bg-solid page-sidebar-closed">
	
	<!-- BEGIN HEADER -->
	<div th:replace="layout :: header-top"></div>
	<!-- END HEADER -->

	<!-- BEGIN CONTAINER -->
	<div class="page-container">

		<!-- BEGIN SIDEBAR -->
		<div th:replace="layout :: page-container-sidebar"> </div>
		<!-- END SIDEBAR -->
		
		<!-- BEGIN CONTENT -->
		<div class="page-content-wrapper">

			<!-- BEGIN CONTENT BODY -->
			<div class="page-content">

				<div class="row">
					<div class="col-md-6">
						<!-- BEGIN BORDERED TABLE PORTLET-->
						<div class="portlet portlet-fit ">
							<div class="portlet-body">
								<div>
									<table class="table table-hover table-condensed table-striped table-bordered compact condensed" id="orgFormTable">
										<thead>
											<tr>
												<th>id</th>
												<th th:text="#{label.orgForm.table.name}">Name</th>
												<th th:text="#{label.orgForm.table.enabled}">Enabled</th>
												<th th:text="#{label.orgForm.table.edit}">Edit</th>
												<th th:text="#{label.orgForm.table.delete}">Delete</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="s : ${orgFormList}">
												<td th:text="${s.id}">Id</td>
												<td th:text="${s.name}">Name</td>
												<td th:text="${s.enabled} ? #{label.enabled} : #{label.disabled} ">Enabled</td>
												<td>
													<a data-remote="false" data-toggle="modal"
													data-target="#orgFormFormModal" th:href="@{/orgForm/__${s.id}__/edit}"
													role="button" class="btn btn-xs blue-stripe" th:text="#{label.orgForm.button.edit}"> Edit
													</a>
												</td>
												<td>
													<form th:action="@{/orgForm/__${s.id}__/remove}" method="post">
														<button type="submit" class="btn btn-xs red-stripe" th:text="#{label.orgForm.button.delete}">Delete</button>
													</form>
												</td>
											</tr>
										</tbody>

									</table>
								</div>

								<div class="col-md-12">
									<div class="modal fade" id="orgFormFormModal" tabindex="-1"
										role="dialog" aria-labelledby="myModalLabel"
										aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal"
														aria-label="Close">
														<span aria-hidden="true">&times;</span>
													</button>
													<h4 class="modal-title" id="myModalLabel" th:text="#{label.orgForm.modal.title}">Modal title</h4>
												</div>
												<div class="modal-body">...</div>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-12">
										<a data-remote="false" data-toggle="modal" data-target="#orgFormFormModal" th:href="@{/orgForm/add}"
											role="button" class="btn btn-large btn-primary" th:text="#{label.orgForm.button.add}"> Add OrgForm</a>
									</div>
								</div>
							</div>
						</div>
						<!-- END BORDERED TABLE PORTLET-->
					</div>
				</div>
				
				<div class="row">
					<div class="col-md-12">
						<input hidden="true" type="text" id="orgForm_id" name="orgForm_id" />
						<div id="content"></div>
					</div>
				</div>				
			</div>
			<!-- END CONTENT BODY -->
		</div>
		<!-- END CONTENT -->
		<!-- <div th:replace="layout :: page-container-quick-sidebar"/> -->
	</div>
	<!-- END CONTAINER -->
	<div th:replace="layout :: footer"></div>
	<div th:replace="fragments/footer :: footer-js"></div>

	<script th:src="@{/assets/global/plugins/datatables/datatables.js}" type="text/javascript"></script>
	<script th:src="@{/assets/global/plugins/datatables/dataTables.keyTable.js}" type="text/javascript"></script>	
	
	<script th:src="@{/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js}" type="text/javascript"></script>
	<script th:src="@{/assets/pages/scripts/components-bootstrap-switch.min.js}" type="text/javascript"></script>
	
	<!-- BEGIN PAGE LEVEL PLUGINS -->

	<!-- END PAGE LEVEL PLUGINS -->
	<!-- BEGIN PAGE LEVEL SCRIPTS -->

	
	<script type="text/javascript">
		$(document).ready(function() 
		{
			var table = $('#orgFormTable').DataTable({
		    	stateSave: 	true,
		    	"language": {"url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Russian.json"},
	    		"info":     false,
	    		keys: 		{focus: ':eq(0)'}
		    } );
		
			table.on('key-focus', function(e, datatable, cell) 
			{
				var rowData = datatable.row(cell.index().row).data();
				
				$("#orgForm_id").val(rowData[0]);
				
				var sUrl ="/orgForm/" + rowData[0]+"/view";
				
				$.get(sUrl, function(data) 
				{
					//$('#content').html(data);
				});

			});

		});
	</script>
           
	<script type="text/javascript">
		$("#orgFormFormModal").on("show.bs.modal", function(e) 
		{
			var link = $(e.relatedTarget);
			var orgFormID = $("#orgForm_id").val();
			$(this).find(".modal-body").load(link.attr("href"));
		});
	</script>           
            
	<!-- END PAGE LEVEL SCRIPTS -->
</body>
</html>